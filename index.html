<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Prithvi House | Empros International School</title>

  <!-- External libs (kept from original) -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>

  <script>
    // keep your EmailJS init
    try {
      emailjs.init("EzWnTJC9VB_yxVTL0");
    } catch (e) {
      console.warn("EmailJS init failed:", e);
    }
  </script>

  <style>
    /* ===================== INTRO: ENHANCED SOIL + REALISTIC 3D-ILLUSION TREE ===================== */
    :root{
      --soil-top:#7a5a42;
      --soil-mid:#5a3f2a;
      --soil-deep:#3b2617;
      --trunk-1:#70442a;
      --trunk-2:#55321f;
      --bark-dark:rgba(0,0,0,0.35);
      --leaf-dark:#336633;
      --leaf-mid:#4aa24a;
      --leaf-light:#b9f6be;
      --sun-glow: rgba(255,215,120,0.12);
    }

    /* Full-screen intro overlay */
    #introOverlay {
      position: fixed;
      inset: 0;
      z-index: 99999;
      background: linear-gradient(180deg, rgba(6,12,18,0.96) 0%, rgba(6,10,18,0.94) 60%, rgba(0,0,0,0.6) 100%);
      display:flex;
      align-items:flex-end;
      justify-content:center;
      overflow:hidden;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    .intro-scene {
      position: relative;
      width:100%;
      height:100%;
      overflow:hidden;
      perspective:1100px;
      transform-style:preserve-3d;
    }

    /* ================= SOIL: layered, textured and realistic ================= */
    .soil {
      position:absolute;
      bottom:0;
      left:0;
      width:100%;
      height:22vh;
      z-index:12;
      /* layered soil gradients for depth */
      background:
        radial-gradient(1200px 220px at 50% 65%, rgba(255,255,255,0.02), transparent 10%),
        linear-gradient(180deg, var(--soil-top) 0%, var(--soil-mid) 45%, var(--soil-deep) 100%);

      box-shadow: inset 0 32px 64px rgba(0,0,0,0.65), 0 -8px 18px rgba(0,0,0,0.25);
      transform-origin: bottom center;
    }

    /* top soil ridge to form a planting spot */
    .soil .ridge {
      position:absolute;
      left:50%;
      transform:translateX(-50%);
      bottom:5%;
      width:48%;
      height:58%;
      background:
        radial-gradient(60% 50% at 50% 40%, rgba(255,255,255,0.03), transparent 16%),
        linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.08));
      border-radius:48%;
      box-shadow: inset 0 -18px 36px rgba(0,0,0,0.45);
      filter: blur(0.8px);
      z-index:13;
      overflow:hidden;
    }

    /* soil granular texture using repeating-radial gradients */
    .soil .texture {
      position:absolute;
      inset:0;
      background-image:
        radial-gradient(circle at 20% 25%, rgba(0,0,0,0.06) 0 2px, transparent 3px),
        radial-gradient(circle at 70% 55%, rgba(255,255,255,0.02) 0 1px, transparent 2px),
        repeating-radial-gradient(circle at 40% 60%, rgba(0,0,0,0.03) 0 3px, rgba(0,0,0,0.00) 4px 8px);
      opacity:0.95;
      mix-blend-mode:multiply;
    }

    /* small pebbles */
    .soil .pebble {
      position:absolute;
      width:6px;
      height:6px;
      border-radius:50%;
      background:linear-gradient(180deg, rgba(255,255,255,0.05), rgba(0,0,0,0.35));
      box-shadow: 0 2px 6px rgba(0,0,0,0.45);
      opacity:0.9;
    }

    /* seed landing area highlight */
    .soil .spot {
      position:absolute;
      left:50%;
      bottom:48%;
      transform:translateX(-50%);
      width:18%;
      height:14%;
      border-radius:50%;
      background: radial-gradient(ellipse at 50% 20%, rgba(255,255,255,0.03), rgba(0,0,0,0.18) 45%);
      filter: blur(1.6px);
      opacity:0.9;
    }

    /* ================= SEED drop ================= */
    .seed {
      position:absolute;
      top:-8vh;
      left:50%;
      transform:translateX(-50%);
      width:24px;
      height:30px;
      border-radius:54% 46% 44% 56%;
      background: radial-gradient(circle at 32% 28%, #a25b3a 0%, #6b3a22 56%, #35190e 100%);
      box-shadow: 0 8px 18px rgba(0,0,0,0.5), inset 0 2px 6px rgba(255,255,255,0.06);
      z-index:36;
      animation:seedDrop 920ms cubic-bezier(.22,.9,.2,1) forwards;
    }
    @keyframes seedDrop {
      0%{ top:-14vh; transform:translateX(-50%) scale(0.9) rotate(-12deg); opacity:1; }
      60%{ top:60vh; transform:translateX(-50%) scale(1.04) rotate(6deg); }
      100%{ top:68vh; transform:translateX(-50%) scale(0.92) rotate(0deg); }
    }

    /* hit dust ring on soil */
    .soil-ripple {
      position:absolute;
      left:50%;
      bottom:16.6vh;
      transform:translateX(-50%) scale(0.36);
      width:28%;
      height:8%;
      border-radius:50%;
      background: radial-gradient(circle at 50% 40%, rgba(255,255,255,0.06), rgba(255,255,255,0.0));
      opacity:0;
      z-index:38;
      animation:soilRipple 460ms 880ms linear forwards;
    }
    @keyframes soilRipple {
      0%{ opacity:0; transform:translateX(-50%) scale(0.36); }
      50%{ opacity:0.9; transform:translateX(-50%) scale(1.08); }
      100%{ opacity:0; transform:translateX(-50%) scale(1.48); }
    }

    /* ================= water drops (few then short rain) ================= */
    .water-drop {
      position:absolute;
      width:8px; height:14px;
      border-radius:50% 50% 60% 60%;
      background:linear-gradient(180deg,#cbeeff,#67c8ff);
      box-shadow:0 6px 10px rgba(0,120,180,0.24);
      opacity:0;
      z-index:41;
      animation:waterFall 760ms cubic-bezier(.2,.7,.2,1) 1 forwards;
    }
    .water-drop.rain {
      width:6px; height:10px; opacity:0.85;
      animation:rainFall linear 680ms forwards;
    }
    @keyframes waterFall {
      0%{ transform:translateY(-8vh) scale(0.9); opacity:0; }
      30%{ opacity:1; transform:translateY(18vh) scale(1); }
      100%{ transform:translateY(60vh) scale(0.9); opacity:0; }
    }
    @keyframes rainFall {
      0%{ transform:translateY(-12vh) translateX(0) rotate(0deg); opacity:0; }
      20%{ opacity:1; }
      100%{ transform:translateY(88vh) translateX(34px) rotate(20deg); opacity:0; }
    }

    /* ================= sun beam + flash ================= */
    .sunbeam {
      position:absolute;
      top:-22%;
      right:6%;
      width:28%;
      height:160%;
      background: linear-gradient(120deg, rgba(255,230,140,0.00) 0%, rgba(255,220,90,0.12) 18%, rgba(255,200,40,0.22) 38%, rgba(255,180,30,0.26) 52%, rgba(255,200,40,0.16) 72%, rgba(255,230,140,0.00) 100%);
      transform: skewX(-18deg) translateX(24%);
      filter: blur(16px);
      opacity:0;
      z-index:30;
      animation:beamSweep 640ms 1150ms cubic-bezier(.2,.9,.2,1) forwards;
    }
    @keyframes beamSweep {
      0%{ opacity:0; transform:skewX(-18deg) translateX(50%) scaleY(0.8); }
      60%{ opacity:0.92; transform:skewX(-18deg) translateX(6%) scaleY(1.05); }
      100%{ opacity:0.0; transform:skewX(-18deg) translateX(-8%) scaleY(1.25); }
    }

    .sun-flash {
      position:absolute;
      top:6%;
      left:8%;
      width:18%;
      height:18%;
      border-radius:50%;
      background: radial-gradient(circle at 40% 30%, rgba(255,240,180,0.95), rgba(255,200,50,0.38) 45%, rgba(255,160,0,0.06) 62%, rgba(255,160,0,0) 68%);
      box-shadow: 0 0 180px rgba(255,200,60,0.18), inset 0 6px 30px rgba(255,240,160,0.08);
      opacity:0;
      z-index:28;
      transform:scale(0.6);
      animation:sunFlash 880ms 1250ms cubic-bezier(.2,.9,.2,1) forwards;
    }
    @keyframes sunFlash {
      0%{ opacity:0; transform:scale(0.6); }
      40%{ opacity:0.9; transform:scale(1.04); }
      100%{ opacity:0.0; transform:scale(1.7); }
    }

    /* subtle wind streaks */
    .wind {
      position:absolute;
      left:-20%;
      top:20%;
      width:40%;
      height:8%;
      border-radius:40px;
      background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.12), rgba(255,255,255,0.02));
      filter: blur(6px);
      transform:translateX(-40%) rotate(-6deg);
      opacity:0;
      z-index:32;
      animation:windSweep 1200ms 1400ms cubic-bezier(.2,.9,.2,1) forwards;
    }
    .wind.two { top:34%; left:-10%; width:50%; animation-delay:1550ms; transform:translateX(-30%) rotate(-4deg); }
    @keyframes windSweep {
      0%{ opacity:0; transform:translateX(-40%) rotate(-6deg); }
      50%{ opacity:0.9; transform:translateX(10%) rotate(-2deg); }
      100%{ opacity:0; transform:translateX(60%) rotate(4deg); }
    }

    /* ================= TREE: trunk with bark texture + layered canopy ================= */
    .tree-wrap {
      position:absolute;
      left:50%;
      bottom:18vh;
      transform:translateX(-50%) translateZ(0);
      z-index:35;
      width:420px;
      height:0;
      display:flex;
      align-items:flex-end;
      justify-content:center;
      perspective:900px;
    }

    /* Trunk: taller, textured, with bark lines via pseudo-elements */
    .tree-trunk {
      position:relative;
      width:42px;
      height:0;
      background: linear-gradient(180deg, var(--trunk-1) 0%, var(--trunk-2) 70%);
      border-radius:20px;
      transform-origin:bottom center;
      box-shadow: 0 18px 34px rgba(0,0,0,0.6), inset 0 -10px 18px rgba(255,220,180,0.03);
      animation:growTrunk 820ms 1700ms cubic-bezier(.22,.9,.2,1) forwards;
      overflow:visible;
    }
    .tree-trunk::before, .tree-trunk::after {
      content:'';
      position:absolute;
      left:6px;
      top:12%;
      width:30px;
      height:58%;
      border-radius:14px;
      background: linear-gradient(180deg, rgba(0,0,0,0.04), rgba(255,255,255,0.02));
      transform:rotate(-2deg);
      opacity:0.18;
      pointer-events:none;
    }
    .tree-trunk::after {
      left:auto; right:6px; transform:rotate(2deg);
      opacity:0.12;
    }
    /* bark lines for texture */
    .tree-trunk .bark {
      position:absolute;
      inset: 8% 6%;
      background-image: linear-gradient(transparent 0 6px, rgba(0,0,0,0.06) 6px, transparent 7px);
      background-size: 6px 12px;
      opacity:0.14;
      mix-blend-mode:multiply;
    }

    @keyframes growTrunk {
      0%{ height:0; transform: translateY(0) rotateX(10deg) scaleY(0.08); opacity:0.95; }
      50%{ height:128px; transform: translateY(0) rotateX(6deg) scaleY(1.03); opacity:1; }
      100%{ height:192px; transform: translateY(0) rotateX(0deg) scaleY(1); opacity:1; }
    }

    /* branches: two broad branches with subtle bark */
    .branch-left, .branch-right {
      position:absolute;
      bottom:62%;
      width:180px;
      height:18px;
      background: linear-gradient(90deg, rgba(91,57,36,1) 0%, rgba(68,40,26,1) 100%);
      border-radius:12px;
      opacity:0;
      transform-origin:right center;
      animation:branchPop 360ms 2320ms cubic-bezier(.2,.9,.2,1) forwards;
      box-shadow: 0 12px 26px rgba(0,0,0,0.45);
    }
    .branch-left { left:-108px; transform: rotate(-24deg) translateZ(-26px); animation-delay:2360ms; }
    .branch-right { left:58px; transform: rotate(24deg) translateZ(10px); animation-delay:2420ms; }

    @keyframes branchPop {
      0%{ opacity:0; transform: scaleX(0.06) rotate(-12deg); }
      100%{ opacity:1; transform: scaleX(1) rotate(0deg); }
    }

    /* Canopy: multiple layered clusters for depth */
    .canopy {
      position:absolute;
      bottom:72%;
      left:50%;
      transform:translateX(-50%);
      width:520px;
      height:320px;
      pointer-events:none;
      opacity:0;
      transform-origin:center bottom;
      animation:canopyAppear 420ms 2520ms cubic-bezier(.2,.9,.2,1) forwards;
      filter: drop-shadow(0 28px 48px rgba(0,0,0,0.48));
    }
    @keyframes canopyAppear {
      0%{ opacity:0; transform:translateX(-50%) translateY(18px) scale(0.88) rotateX(10deg); }
      60%{ opacity:1; transform:translateX(-50%) translateY(-6px) scale(1.02) rotateX(4deg); }
      100%{ opacity:1; transform:translateX(-50%) translateY(0) scale(1) rotateX(0deg); }
    }

    /* three layered canopy shapes (elliptical blobs), each with subtle leaf shapes repeated */
    .canopy .layer {
      position:absolute;
      width:72%;
      height:62%;
      left:14%;
      top:6%;
      border-radius:46%;
      background: radial-gradient(circle at 30% 25%, var(--leaf-light), var(--leaf-mid) 45%, var(--leaf-dark) 78%);
      box-shadow: 0 10px 50px rgba(0,0,0,0.36), inset 0 -12px 30px rgba(0,0,0,0.12);
      transform-origin:center;
    }
    .canopy .layer.two {
      width:62%;
      height:58%;
      left:6%;
      top:18%;
      background: radial-gradient(circle at 38% 30%, var(--leaf-light), var(--leaf-mid) 48%, var(--leaf-dark) 82%);
      transform:translateX(-6%) scale(0.98) rotate(-3deg);
      opacity:0.98;
    }
    .canopy .layer.three {
      width:56%;
      height:50%;
      left:36%;
      top:8%;
      background: radial-gradient(circle at 32% 28%, var(--leaf-light), var(--leaf-mid) 44%, var(--leaf-dark) 78%);
      transform:translateX(6%) scale(0.94) rotate(4deg);
      opacity:0.95;
    }

    /* small leaf shapes layered using multiple pseudo elements to add details */
    .canopy .layer::before, .canopy .layer::after {
      content:'';
      position:absolute;
      width:40%;
      height:34%;
      border-radius:48%;
      left:6%;
      top:12%;
      background: radial-gradient(circle at 30% 22%, rgba(255,255,255,0.03), rgba(255,255,255,0.00));
      opacity:0.18;
      transform:rotate(-8deg);
    }
    .canopy .layer::after { left:auto; right:8%; top:18%; transform:rotate(10deg); opacity:0.14; }

    /* shimmering glints on canopy */
    .canopy .glint {
      position:absolute;
      width:12%;
      height:8%;
      border-radius:50%;
      background: radial-gradient(circle at 50% 40%, rgba(255,255,255,0.85), rgba(255,255,255,0.12));
      filter: blur(4px);
      opacity:0.0;
      animation:glintBlink 2600ms 2900ms infinite ease-in-out;
      mix-blend-mode: screen;
    }
    .canopy .glint.one { left:22%; top:18%; animation-delay:3100ms; }
    .canopy .glint.two { left:44%; top:8%; animation-delay:3400ms; transform:scale(0.8); }
    @keyframes glintBlink {
      0%{ opacity:0; transform:scale(0.9); }
      30%{ opacity:0.75; transform:scale(1.05); }
      100%{ opacity:0; transform:scale(0.9); }
    }

    /* leaf drift particles (falling) */
    .leaf-particle {
      position:absolute;
      width:12px;
      height:8px;
      background: linear-gradient(180deg, var(--leaf-light), var(--leaf-mid));
      border-radius:6px;
      box-shadow: 0 8px 18px rgba(0,0,0,0.38);
      transform-origin:center;
      z-index:44;
    }

    /* slight camera sway */
    .intro-scene.sway {
      animation:cameraSway 1200ms 1800ms ease-out forwards;
    }
    @keyframes cameraSway {
      0%{ transform: perspective(900px) rotateX(2deg) translateZ(0); }
      60%{ transform: perspective(900px) rotateX(0.6deg) translateZ(12px); }
      100%{ transform: perspective(900px) rotateX(0deg) translateZ(0); }
    }

    /* ================= LOGIN PANEL + SPEECH (unchanged flow but styled) ================= */
    .login-panel {
      position:absolute;
      left:50%;
      bottom:26%;
      transform:translateX(-50%) translateY(30px);
      z-index:65;
      width:440px;
      max-width:92%;
      background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));
      border-radius:18px;
      border: 1px solid rgba(255,255,255,0.08);
      box-shadow: 0 18px 50px rgba(0,0,0,0.6);
      padding:22px 20px;
      text-align:center;
      opacity:0;
      transform-origin:center center;
      animation:loginFadeIn 340ms 3200ms cubic-bezier(.2,.9,.2,1) forwards;
      backdrop-filter: blur(8px) saturate(120%);
      font-family: "Poppins", sans-serif;
    }
    @keyframes loginFadeIn {
      0%{ opacity:0; transform:translateX(-50%) translateY(34px) scale(0.96); }
      100%{ opacity:1; transform:translateX(-50%) translateY(0) scale(1); }
    }
    .login-title { font-size:1.18rem; font-weight:900; color:#fff; margin-bottom:6px; letter-spacing:0.2px; text-shadow: 0 6px 22px rgba(0,0,0,0.6); }
    .login-sub { color: #dfffe3; font-size:0.92rem; margin-bottom:12px; opacity:0.95; }

    .username-input {
      width:78%;
      padding:12px 14px;
      border-radius:999px;
      border: 1px solid rgba(255,255,255,0.08);
      background: rgba(8,18,10,0.18);
      color:#fff;
      outline:none;
      font-size:1rem;
      transition:box-shadow 160ms ease, transform 160ms ease;
    }
    .username-input:focus { box-shadow: 0 12px 30px rgba(0,0,0,0.45); transform:translateY(-3px); }

    .enter-btn {
      margin-left:8px;
      padding:10px 14px;
      border-radius:999px;
      border:none;
      background:linear-gradient(90deg,#6fbf73,#2e8a3f);
      color:#fff;
      font-weight:800;
      cursor:pointer;
      box-shadow: 0 8px 30px rgba(46,138,63,0.18);
      transition:transform 160ms ease;
    }
    .enter-btn:hover { transform:translateY(-3px) scale(1.02); }

    /* speech box + typing cursor (same logic as before) */
    .speech-box {
      position:absolute;
      left:50%;
      bottom:52%;
      transform:translateX(-50%) translateY(6px);
      z-index:75;
      width:66%;
      max-width:720px;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:14px;
      padding:16px 18px;
      color:#e9ffea;
      font-weight:600;
      font-size:1.02rem;
      letter-spacing:0.2px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.6);
      opacity:0;
      transform-origin:center;
    }
    .speech-box.visible{ animation:showSpeech 240ms forwards; }
    @keyframes showSpeech { from{ opacity:0; transform:translateX(-50%) translateY(8px) scale(0.98);} to{ opacity:1; transform:translateX(-50%) translateY(0) scale(1); } }

    .speech-text { display:inline-block; white-space:pre-wrap; line-height:1.35; }
    .typing-cursor {
      display:inline-block;
      width:8px;
      height:20px;
      margin-left:6px;
      background:linear-gradient(180deg,#e9ffea,#bfffc7);
      border-radius:3px;
      vertical-align:bottom;
      opacity:1;
      animation:blink 900ms steps(1) infinite;
    }
    @keyframes blink { 0%{opacity:1;}50%{opacity:0;}100%{opacity:1;} }

    /* fade overlay out when complete */
    .overlay-hidden {
      transition: opacity 850ms ease, visibility 850ms;
      opacity:0; visibility:hidden; pointer-events:none;
    }

    /* responsive adjustments */
    @media (max-width:640px){
      .login-panel{ width:92%; bottom:20%; padding:16px; }
      .speech-box{ font-size:0.98rem; width:86%; bottom:60%; }
      .tree-wrap{ width:280px; }
      .canopy { width:360px; height:260px; bottom:70%; }
    }

    /* ================= keep original styles unchanged below ================= */

    /* === GLOBAL RESET === */
    * { margin:0; padding:0; box-sizing:border-box; font-family:"Poppins",sans-serif; scroll-behavior:smooth; }

    body {
      color:#fff;
      overflow-x:hidden;
      min-height:100vh;
      background:linear-gradient(270deg,#6a11cb,#2575fc,#00c6ff,#0072ff,#ff512f,#dd2476);
      background-size:1200% 1200%;
      animation:bgAnimation 15s ease infinite;
    }

    @keyframes bgAnimation{
      0%{background-position:0% 50%;}
      50%{background-position:100% 50%;}
      100%{background-position:0% 50%;}
    }

    /* === HAMBURGER MENU === */
    .hamburger { position:fixed; top:20px; left:20px; font-size:28px; cursor:pointer; color:#fff; z-index:9999; transition:transform 0.3s ease,color 0.3s; text-shadow:0 0 10px rgba(255,255,255,0.5); }
    .hamburger:hover { transform:scale(1.2); color:#ffeb3b; }

    /* === SIDE NAV MENU === */
    nav { position:fixed; left:-250px; top:0; height:100%; width:220px; background:rgba(0,0,0,0.75); backdrop-filter:blur(12px); padding-top:80px; transition:left 0.4s ease-in-out; box-shadow:4px 0 10px rgba(0,0,0,0.5); z-index:
